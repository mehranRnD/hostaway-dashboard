<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Namuve Dashboard</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="responsive.css" />
    
    <link
      rel="icon"
      href="https://i.ibb.co/vC3k9ZXv/favicon-32x32.png"
      type="image/png"
    />
  </head>
  <body>
    <div class="dashboard-container">
      <div class="header">
        <div class="header-left">
          <img src="img/namuve-logo.jpg" alt="namuve-logo" />
        </div>
        <div class="header-center">
          <div class="text-container">
            <h1>Namuve Dashboard</h1>
          </div>
        </div>
        <div class="header-right">
          <div class="calendar-button-container">
            <button class="calendar-button" id="calendarButton">
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
                <line x1="16" y1="2" x2="16" y2="6" />
                <line x1="8" y1="2" x2="8" y2="6" />
                <line x1="3" y1="10" x2="21" y2="10" />
              </svg>
              <span id="selectedDateText">Select Date</span>
            </button>

            <!-- Calendar Dropdown -->
            <div class="calendar-dropdown" id="calendarDropdown">
              <div class="calendar-header">
                <div class="calendar-month-year" id="calendarMonthYear"></div>
                <div class="calendar-nav">
                  <button id="prevMonth">
                    <svg
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                    >
                      <path d="M15 6L9 12L15 18" />
                    </svg>
                  </button>
                  <button id="nextMonth">
                    <svg
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                    >
                      <path d="M9 6L15 12L9 18" />
                    </svg>
                  </button>
                </div>
              </div>

              <div class="calendar-days">
                <div>Sun</div>
                <div>Mon</div>
                <div>Tue</div>
                <div>Wed</div>
                <div>Thu</div>
                <div>Fri</div>
                <div>Sat</div>
              </div>

              <div class="calendar-grid" id="calendarGrid">
                <!-- Calendar days will be added here -->
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Top Dashboard Section -->
      <div class="stats-grid">
        <div class="stat-card" id="totalReservations">
          <h2>Apartment Status</h2>
          <div style="display: none" class="value">0</div>
          <p style="text-align: center; margin: 30px 0px 30px 0px">
            Hover or click to see apartment status
          </p>
          <div class="dropdown-container">
            <!-- Hoverable elements for different listing types -->
            <div class="hoverable-item" data-type="studio">
              <label>Studio</label>
              <div class="hover-content">
                <div class="listing-data">
                  <!-- Studio listings will be dynamically populated here -->
                </div>
              </div>
            </div>
            <div class="hoverable-item" data-type="1br">
              <label>1BR</label>
              <div class="hover-content">
                <div class="listing-data">
                  <!-- 1BR listings will be dynamically populated here -->
                </div>
              </div>
            </div>
            <div class="hoverable-item" data-type="2br">
              <label>2BR</label>
              <div class="hover-content">
                <div class="listing-data">
                  <!-- 2BR listings will be dynamically populated here -->
                </div>
              </div>
            </div>
            <div class="hoverable-item" data-type="2br-premium">
              <label>2BR Premium</label>
              <div class="hover-content">
                <div class="listing-data">
                  <!-- 2BR Premium listings will be dynamically populated here -->
                </div>
              </div>
            </div>
            <div class="hoverable-item" data-type="3br">
              <label>3BR</label>
              <div class="hover-content">
                <div class="listing-data">
                  <!-- 3BR listings will be dynamically populated here -->
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="slack-icon"></div>
        <div class="stat-card" id="occupancyGraph">
          <h2>Today's Occupancy Graph</h2>
          <div id="occupancyChart"></div>
          <!-- changed from <canvas> -->
        </div>

        <div class="stat-card" id="completedReservations">
          <h2>Occupancy Percentage</h2>
          <div class="stats-container">
            <!-- First row -->
            <div class="stat-group">
              <div class="stat-item" id="dateStat">
                <span class="label">Date</span>
                <span class="value">-</span>
              </div>
              <div class="stat-item" id="totalStat">
                <span class="label">Total Apartments</span>
                <span class="value">0</span>
              </div>
            </div>

            <!-- Second row -->
            <div class="stat-group">
              <div class="stat-item" id="reservedStat">
                <span class="label">Reserved</span>
                <span class="value">0</span>
              </div>
              <div class="stat-item" id="availableStat">
                <span class="label">Available</span>
                <span class="value">0</span>
              </div>

              <div class="stat-item" id="occupancyStat">
                <span class="label">Occupancy %</span>
                <span class="value">0%</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Main Body Sections -->
      <div class="main-body">
        <div class="section" id="actualCheckIns">
          <h2 style="color: white">Today's Processing Check-ins</h2>
          <div class="reservations-grid" id="actualCheckInsList">
            <!-- Actual check-ins will be added here -->
          </div>
        </div>

        <div class="section" id="actualCheckOuts">
          <h2 style="color: white">Today's Processing Check-outs</h2>
          <div class="reservations-grid" id="actualCheckOutsList">
            <!-- Actual check-outs will be added here -->
          </div>
        </div>
      </div>

      <!-- Expected Sections -->
      <div class="expected-sections">
        <div class="section" id="expectedCheckInsSection">
          <div class="section-header">
            <h2 style="color: white">Today's Expected Check-ins</h2>
            <div class="check-ins-count" id="todayCheckInsCount">0</div>
          </div>
          <div class="guest-grid" id="expectedCheckInsList">
            <!-- Expected check-ins will be added here -->
          </div>
        </div>

        <div class="section" id="expectedCheckOutsSection">
          <div class="section-header">
            <h2 style="color: white">Today's Expected Check-outs</h2>
            <div class="check-outs-count" id="todayCheckOutsCount">0</div>
          </div>
          <div class="guest-grid" id="expectedCheckOutsList">
            <!-- Expected check-outs will be added here -->
          </div>
        </div>
      </div>
      <div class="main-body">
        <div class="section">
          <h2 style="color: white">Today's Total Check-ins</h2>
          <div class="reservations-grid" id="totalCheckInsList">
            <!-- Actual check-ins will be added here -->
          </div>
        </div>

        <div class="section">
          <h2 style="color: white">Today's Total Check-outs</h2>
          <div class="reservations-grid" id="totalCheckOutsList">
            <!-- Actual check-outs will be added here -->
          </div>
        </div>
      </div>
      <!-- Staying Guests Section -->
      <div class="section" id="stayingGuests" style="display: none">
        <h2>Staying Guests</h2>
        <div class="stats-grid">
          <div class="stat-card">
            <h3>Total Staying</h3>
            <div class="value" id="totalStaying">0</div>
          </div>
          <!-- <div class="stat-card">
            <h3>Average Stay</h3>
            <div class="value" id="avgStay"></div>
            <div class="label">Nights</div>
          </div> -->
        </div>

        <div class="guest-list" id="stayingGuestList">
          <div class="guest-header">
            <div class="guest-col hostaway-id">Hostaway ID</div>
            <div class="guest-col name">Guest Name</div>
            <div class="guest-col listing">Listing ID</div>
            <div class="guest-col nights">Nights</div>
            <div class="guest-col duration">Staying Duration</div>
          </div>
          <div id="stayingGuestCards"></div>
        </div>
      </div>

      <!-- Double Bookings Section -->
      <!-- <div class="section" id="doubleBookings">
        <h2>Double Bookings</h2>
        <div class="double-bookings-list" id="doubleBookingsList">
        </div>
      </div> -->
      <div class="section">
        <h2 style="color: white">PRICE LIST OF DAMAGED / MISSING ITEMS</h2>
        <div class="table-container">
          <table class="styled-table">
            <thead>
              <tr>
                <th>Sr No.</th>
                <th>Item Name</th>
                <th>Price</th>
                <th width="30px"></th>
                <!-- Spacer column -->
                <th>Sr No.</th>
                <th>Item Name</th>
                <th>Price</th>
              </tr>
            </thead>
            <tbody id="damageTableBody">
              <!-- Rows will be added here by JavaScript -->
            </tbody>
          </table>
        </div>
      </div>

      <div class="loading" id="loading" style="display: none">
        <div>Loading reservations...</div>
      </div>

      <div class="error" id="error" style="display: none">
        <div>Error loading reservations</div>
      </div>
    </div>
    <div id="fullHouseNotice" style="display: none">
      <div id="thread"></div>
      <div id="noticeBoard">Namuve you got a full house, enjoy!</div>
    </div>

    <!-- Slack Icon -->
    <div class="slack-icon">
      <a href="https://namuve.slack.com/archives/C083M9C2Z8A" target="_blank">
        <img src="img/slack-logo.png" alt="Slack" />
        <span>Got any query?</span>
      </a>
    </div>

    <!-- External libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script src="script.js"></script>

    <script>
      const tbody = document.getElementById("damageTableBody");
      const sampleData = [
        {
          name: "Three Seat Sofa (Burn&Damage)",
          price: "10,000",
          status: "pending",
        },
        {
          name: "Two Seat Sofa (Burn&Damage)",
          price: "8,000",
          status: "pending",
        },
        { name: "Round Glass Table", price: "5,000", status: "pending" },
        { name: "Chair (Burn&Damage)", price: "3,000", status: "pending" },
        { name: "Side Table (Burn&Damage)", price: "3,000", status: "pending" },
        {
          name: "Dinning Table (Burn&Damage)",
          price: "10,000",
          status: "pending",
        },
        { name: "Chair Each (Burn&Damage)", price: "5,000", status: "pending" },
        {
          name: "Enterance Console (Burn&Damage)",
          price: "3,000",
          status: "pending",
        },
        { name: "Lamp(each) (Burn&Damage)", price: "8,000", status: "pending" },
        {
          name: "Medium Painting (Burn&Damage)",
          price: "4,000",
          status: "pending",
        },
        {
          name: "Large Painting (Burn&Damage)",
          price: "7,000",
          status: "pending",
        },
        { name: "Ash Tray", price: "500", status: "pending" },
        {
          name: "Demy Book (Décor Item)(Burn&Damage)",
          price: "1,000",
          status: "pending",
        },
        { name: "Ceramic Vase", price: "3,000", status: "pending" },
        { name: "Glass Vase", price: "2,000", status: "pending" },
        {
          name: "Window Curtain With Hanging Belt (Burn&Damage)",
          price: "5,000",
          status: "pending",
        },
        {
          name: "Carpet Rug Large (5x7)(Burn&Damage)",
          price: "25,000",
          status: "pending",
        },
        {
          name: "Carpet Rug Medium(4x6)(Burn&Damage)",
          price: "15,000",
          status: "pending",
        },
        { name: "Bedsheet(Burn&Damage)", price: "2,000", status: "pending" },
        {
          name: "Pillow Cover(Burn&Damage)",
          price: "1,000",
          status: "pending",
        },
        { name: "Duvet Cover(Burn&Damage)", price: "4,000", status: "pending" },
        { name: "Cushion(Burn&Damage)", price: "1,500", status: "pending" },
        { name: "Slippers Pair", price: "1,000", status: "pending" },
        { name: "Toilet Basket", price: "1,000", status: "pending" },
        { name: "Towel (Burn&Damage)", price: "1,500", status: "pending" },
        { name: "Mattress(Burn&Damage)", price: "25,000", status: "pending" },
        { name: "TCL 4K HDR LED 50INCHS", price: "110,000", status: "pending" },
        {
          name: "Haier Refrigerator (Damage)",
          price: "25,000",
          status: "pending",
        },
        { name: "Microwave Oven (Damage)", price: "7,000", status: "pending" },
        {
          name: "Anex Electrical Kettle 4042 (Damage)",
          price: "3,000",
          status: "pending",
        },
        {
          name: "Anex Hotplate 6062 (Damage)",
          price: "6,000",
          status: "pending",
        },
        { name: "Glass each (Damage)", price: "200", status: "pending" },
        { name: "Water Jug (Damage)", price: "600", status: "pending" },
        { name: "Cup with saucers (Damage)", price: "400", status: "pending" },
        { name: "Cooking pot (Damage)", price: "4,000", status: "pending" },
        { name: "Cooking pan (Damage)", price: "4,000", status: "pending" },
        { name: "Frying Pan (Damage)", price: "4,000", status: "pending" },
        { name: "Rice Dish (Damage)", price: "1,000", status: "pending" },
        { name: "Bowl (Damage)", price: "1,500", status: "pending" },
        { name: "Soup Plates (Damage)", price: "500", status: "pending" },
        { name: "Dinner Plates (Damage)", price: "700", status: "pending" },
        { name: "Cooking Spoon (Damage)", price: "600", status: "pending" },
        { name: "Table spoon (Damage) each", price: "300", status: "pending" },
        { name: "Tea Spoon (Damage)", price: "200", status: "pending" },
        { name: "Table Fork (Damage)", price: "300", status: "pending" },
        { name: "Knife (Damage)", price: "500", status: "pending" },
        { name: "Tea Strainer (Damage)", price: "500", status: "pending" },
        {
          name: "Max Liquid Dishwasher (Missing)",
          price: "400",
          status: "pending",
        },
        { name: "Max Scrub (Missing)", price: "150", status: "pending" },
        { name: "Looking Mirror", price: "9,000", status: "pending" },
      ];

      // Split data into two columns
      const half = Math.ceil(sampleData.length / 2);
      const firstHalf = sampleData.slice(0, half);
      const secondHalf = sampleData.slice(half);

      // Add rows with two items each
      const maxRows = Math.max(firstHalf.length, secondHalf.length);
      for (let i = 0; i < maxRows; i++) {
        const row = document.createElement("tr");

        // First column item
        if (i < firstHalf.length) {
          const item1 = firstHalf[i];
          row.innerHTML += `
            <td>${i + 1}</td>
            <td>${item1.name}</td>
            <td><span class="status ${item1.status}">${item1.price}</span></td>
          `;
        } else {
          row.innerHTML += "<td></td><td></td><td></td>";
        }

        // Spacer column
        row.innerHTML += "<td></td>";

        // Second column item
        if (i < secondHalf.length) {
          const item2 = secondHalf[i];
          row.innerHTML += `
            <td>${i + half + 1}</td>
            <td>${item2.name}</td>
            <td><span class="status ${item2.status}">${item2.price}</span></td>
          `;
        } else {
          row.innerHTML += "<td></td><td></td><td></td>";
        }

        tbody.appendChild(row);
      }
    </script>
  </body>
</html>
